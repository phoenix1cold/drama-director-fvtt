/* ── Drama Director — Cut-In Panel UI ────────────────────────────────────── */

/* Overlay */
#dd-cutin-overlay {
  position: fixed; inset: 0; z-index: 10000;
  pointer-events: none; display: none;
  align-items: center; justify-content: center;
  background: transparent !important; overflow: hidden;
}
#dd-cutin-overlay.active { display: flex !important; }

/* Stage 1920×1080 */
.dd-cutin-stage {
  position: absolute; top: 50%; left: 50%;
  transform-origin: center center;
  width: 1920px; height: 1080px; overflow: hidden;
}

/* hide-* classes for wrapper */
.cinematic-wrapper.hide-bg         .cinematic-bg-layer    { display: none !important; }
.cinematic-wrapper.hide-bg         .cinematic-paint        { display: none !important; }
.cinematic-wrapper.hide-main-text  .cinematic-text-main    { display: none !important; }
.cinematic-wrapper.hide-sub-text   .cinematic-text-sub     { display: none !important; }
.cinematic-wrapper.hide-border     .cinematic-border-layer { display: none !important; }
.cinematic-wrapper.hide-border     .cinematic-deco-line    { display: none !important; }

/* ── Panel window ── */
.dd-cutin-panel .window-content {
  padding: 8px; overflow: hidden; display: flex; flex-direction: column;
}
.dd-cutin-layout {
  display: flex; gap: 10px; flex: 1; min-height: 0; font-size: 13px;
}
.dd-cutin-left {
  flex: 0 0 278px; display: flex; flex-direction: column; gap: 7px;
  overflow-y: auto; padding-right: 2px;
}
.dd-cutin-right {
  flex: 1; display: flex; flex-direction: column; gap: 0; min-height: 0;
}

/* ── Sections ── */
.dd-section {
  background: rgba(0,0,0,.25); border: 1px solid #444;
  border-radius: 5px; padding: 7px 9px;
}
.dd-section h3 {
  margin: 0 0 6px; font-size: 10.5px; text-transform: uppercase;
  letter-spacing: .08em; color: #999; border-bottom: 1px solid #333;
  padding-bottom: 3px;
}

/* ── Layout helpers ── */
.dd-row { display: flex; gap: 4px; align-items: center; margin-bottom: 4px; }
.dd-row-pair label { font-size: 11px; color: #aaa; white-space: nowrap; }
.dd-label { font-size: 11px; color: #aaa; display: block; margin-bottom: 2px; }
.dd-hint  { font-size: 11px; color: #777; margin: 0 0 5px; line-height: 1.4; }
.dd-hidden { display: none !important; }

/* ── Form controls ── */
.dd-select, .dd-input {
  flex: 1; background: #1a1a1a; border: 1px solid #555;
  border-radius: 3px; color: #ddd; padding: 3px 5px; font-size: 12px;
}
.dd-input-sm {
  width: 56px; background: #1a1a1a; border: 1px solid #555;
  border-radius: 3px; color: #ddd; padding: 3px 4px; font-size: 12px;
}
.dd-select-sm {
  background: #1a1a1a; border: 1px solid #555; border-radius: 3px;
  color: #ddd; padding: 2px 3px; font-size: 11px; max-width: 110px;
}
.dd-textarea {
  width: 100%; box-sizing: border-box; background: #1a1a1a;
  border: 1px solid #555; border-radius: 3px; color: #ddd;
  padding: 4px 6px; font-size: 13px; resize: vertical; min-height: 50px;
}
.dd-color {
  width: 32px; height: 25px; padding: 1px; border: 1px solid #555;
  border-radius: 3px; background: transparent; cursor: pointer; flex: 0 0 32px;
}

/* ── Buttons ── */
button { cursor: pointer; }
.dd-btn-wide {
  width: 100%; background: #2a2a2a; border: 1px solid #555;
  border-radius: 3px; color: #ccc; padding: 5px; font-size: 12px;
}
.dd-btn-wide:hover { background: #333; }
.dd-btn-danger {
  color: #ff6b6b !important; border-color: transparent !important;
  background: transparent !important; padding: 2px 5px;
}
.dd-btn-add-layer {
  background: #1e3a1e; border: 1px solid #3a6a3a; border-radius: 3px;
  color: #7fc97f; padding: 4px 8px; font-size: 11px; white-space: nowrap; flex-shrink: 0;
}
.dd-btn-add-layer:hover { background: #254525; }

/* ── Hide-checkboxes row ── */
.dd-hide-row {
  display: flex; align-items: center; gap: 4px; margin-top: 5px; flex-wrap: wrap;
}
.dd-hide-label { font-size: 10.5px; color: #888; white-space: nowrap; margin-right: 2px; }
.dd-check-badge {
  display: flex; align-items: center; gap: 3px;
  background: #222; border: 1px solid #444; border-radius: 12px;
  padding: 2px 7px; cursor: pointer; font-size: 11px; color: #bbb;
  transition: background .15s, border-color .15s;
}
.dd-check-badge:hover { background: #2a2a2a; border-color: #666; }
.dd-check-badge input[type=checkbox] { margin: 0; cursor: pointer; }
.dd-check-badge:has(input:checked) { background: #2a1414; border-color: #900; color: #ff9999; }

/* ── Action buttons ── */
.dd-actions { display: flex; gap: 6px; margin-top: auto; padding-top: 6px; flex-shrink: 0; }
.dd-btn-play {
  flex: 1; padding: 7px; background: linear-gradient(135deg,#7a0000,#bb0000);
  border: 1px solid #990000; border-radius: 4px; color: #fff;
  font-size: 13px; font-weight: bold;
}
.dd-btn-play:hover { background: linear-gradient(135deg,#900000,#d00000); }
.dd-btn-stop {
  padding: 7px 12px; background: #222; border: 1px solid #555;
  border-radius: 4px; color: #aaa; font-size: 13px;
}
.dd-btn-stop:hover { background: #2a2a2a; color: #ddd; }

/* ── Right column tabs ── */
.dd-right-tabs {
  display: flex; gap: 2px; margin-bottom: 0; flex-shrink: 0;
}
.dd-rtab {
  flex: 1; padding: 5px 3px; background: #151515; border: 1px solid #3a3a3a;
  border-radius: 4px 4px 0 0; color: #777; font-size: 11.5px; cursor: pointer;
  border-bottom: 1px solid #444; transition: background .12s, color .12s;
}
.dd-rtab:hover  { background: #1e1e1e; color: #bbb; }
.dd-rtab.active { background: #1c1c1c; border-color: #555; border-bottom-color: #1c1c1c; color: #eee; }

.dd-rtab-content {
  flex: 1; overflow-y: auto; min-height: 0;
  border: 1px solid #444; border-top: none;
  border-radius: 0 0 4px 4px; padding: 8px; background: #1c1c1c;
}

/* ── Params grid ── */
.dd-params-grid {
  display: flex; flex-wrap: wrap; gap: 6px; margin-top: 6px;
}
.dd-param-group {
  display: flex; flex-direction: column; gap: 2px; font-size: 11px; color: #999;
}
.dd-param-group span { white-space: nowrap; font-size: 10.5px; }
.dd-param-check { flex-direction: row !important; align-items: center; gap: 4px !important; align-self: flex-end; margin-bottom: 2px; }

/* ── Layers ── */
.dd-layers-header {
  display: flex; align-items: flex-start; gap: 8px; margin-bottom: 8px;
}
.dd-layers-list { display: flex; flex-direction: column; gap: 6px; }
.dd-layer-row {
  background: rgba(0,0,0,.3); border: 1px solid #3a3a3a;
  border-radius: 4px; padding: 6px 8px;
}
.dd-layer-top {
  display: flex; align-items: center; gap: 4px; margin-bottom: 5px;
}
.dd-layer-order-btns {
  display: flex; flex-direction: column; align-items: center; gap: 1px; flex-shrink: 0;
}
.dd-layer-order-btns button {
  background: #222; border: 1px solid #444; border-radius: 2px;
  color: #aaa; padding: 0 4px; font-size: 10px; line-height: 1.4;
}
.dd-layer-order-btns button:hover { background: #2a2a2a; color: #ddd; }
.dd-layer-num { font-size: 10px; color: #555; min-width: 18px; text-align: center; }
.dd-layer-params {
  display: flex; flex-wrap: wrap; gap: 5px;
}
.dd-empty-layers { padding: 24px 8px; text-align: center; color: #666; }
